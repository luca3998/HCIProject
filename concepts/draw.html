<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graph</title>
</head>
<body>

    <!-- 
        Test pagina voor het dynamisch weergeven van allerlei data in
        onderstaande svg
     -->

    <!-- ground floor -->
    <svg id="groundfloor" height="95vh" viewBox="0 0 867 685" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule: evenodd; stroke: #000; stroke-linecap: square; clip-rule: evenodd; stroke-miterlimit: 1.5t">
        <path d="M713.9,413l0,-272.6m0,-8l0,-132.4m97.8,498.7l0,1.2l40.5,0l0,17.4l14.4,0l-60.5,0l0,3.8m-267.1,0l-87.8,0l0.1,25.2m324.8,-88.5l0,-11.5m0,-18l0,-15.4l-324.9,0m324.9,-7.9l-2.7,0l0.1,-51l3.1,0m0,-12.1l-3.1,0l0.1,-53l3,0m0,-11.1l-3,0l0.2,-105.3l3.3,0m0.8,-9.5l-64.2,0m64.2,-62.5l-64.2,0m152.7,-100.8l-152.7,0m76.2,100.8l0,-100.8m76.6,100.8l-64.2,0m-12.4,144.1l0,-59.1l-16,0m92.7,-22.5l-60.7,0l0,51.2l-2.2,0m0,12.1l2.2,0l0,51.6l-2.2,0m0,12.4l2.2,0l0,51.5l-2.2,0m0,12.2l2.2,0l0,51l-2.2,0m0,12.4l2.4,0l0,50.8l-6,0m3.6,11.3l62.8,0l0,41.5l-299.5,0m299.5,-41.5l0,-479.5m-152.5,521l0,-11.7m0,-18l0,-11.7m14.6,-66.6l0,66.6m-14.8,-190.5l59.9,0m32.2,1.4l60.7,0m-60.7,-64l60.7,0m-60.7,127.6l60.7,0m-60.7,63.4l60.7,0m-137.9,19.8l48.2,0m-48.2,18.2l47.4,0m-47.4,-8.9l13.2,0m-13.2,17.8l13.2,0m-13.2,9.1l12.4,0l0,2.2m-290,-8.7l254.4,0l0,12.6l35.6,0l0,-4l8.3,0l0,4l26.7,0l0,-13.4m-346.5,98.4l-50.6,0l0,-25.7l50.6,0l0,14.9m0,-14.9l0,-223.2l21.6,0l0,151.4m324.9,1.4l6,0m29.5,12.5l0,-1.2m-380.3,50.5l-1.8,0m21.6,0l-1.8,0" style="fill: none; stroke: #000000; stroke-width: 0.8px"/>
    </svg>
    <br>
    <!-- first floor -->
    <svg id="firstfloor" height="95vh" viewBox="0 0 867 685" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule: evenodd; stroke: #000; stroke-linecap: square; clip-rule: evenodd; stroke-miterlimit: 1.5t">
        <path d="M501.6,413l212.4,0l0,-413m0,0l152.7,0m-43.1,517.3l0,-17.4l28.7,0m14.4,17.4l-60.5,0l0,3.8m-295.2,-36.8l0,-4.7l126.5,0l0,4.7m19,0l0,-4.7l84.8,0l0,-4l8.3,0l0,4l26.7,0l0,-13.4m0,-8.3l0,-11.5m0,-18l0,-15.4l-62.2,0m62.2,-7.9l-2.7,0l0.1,-51l3.1,0m0,-12.1l-3.1,0l0.1,-53l3,0m0,-136.9l-3.1,0l0.1,-51.4l-59.8,0m62.8,177.2l-3,0l0.2,-105.3m4.1,-9.5l-64.2,0m60,63.2l16.1,0l0,-40.7m0.1,-185.7l0,100.8m76.6,62.4l-60.7,0l0,51.2l-2.2,0m62.8,-113.6l-60.7,0l0,51.2l-2.2,0m0,74.5l2.2,0l0,51.6l-2.2,0m0,12.4l2.2,0l0,51.5l-2.2,0m0,12.2l2.2,0l0,51l-2.2,0m0,12.4l2.4,0l0,50.8l-6,0m3.6,11.3l62.8,0m0,0l0,-479.5m-219.8,413l0,71.3m-145.3,-71.3l0,81.7m212.4,-81.7l0.2,66.6m0,0l0,15.6m14.6,-82.2l0,66.6m-14.6,26.3l0,15.2m-212.6,0l365.1,0l0,-41.5m-152.7,-190.5l59.9,0m32.2,1.4l60.7,0m-60.7,-64l60.7,0m-152.7,0l60,0m32.1,127.6l60.7,0m-60.7,63.4l60.7,0m-137.9,19.8l48.2,0m-48.2,18.2l47.4,0m-47.4,-8.9l13.2,0m-13.2,17.8l13.2,0m-13.2,9.1l12.4,0l0,2.2m-362.2,45.4l50.6,0l0,32.7m-50.6,-14.9l50.6,0m-45.2,31.4l45.2,0m-45.2,16.7l45.2,0m-45.2,-8.1l13.6,0m-13.6,24.3l45.2,0m-45.2,-7.9l13.6,0m-19,-30.7l50.6,0l0,7.4m0,9.1l0,9.7m0,7.9l0,16.4l-50,0l0,-3.2l-9.5,0l0,3.2l-22.7,0l0,-3.4m-20.7,0l0,3.4l-41.7,0l0,-3.2m-21.3,0l0,3.2l-41.7,0l0,-2.6m-21.3,0l0,2.6l-42.3,0l0,-2.6m42.3,26.1l0,-4l-42.3,0l0,4m-21.3,0l0,-4l-43.1,0l0,4m-21.5,0l0,-4l-22,0l0,-4.9m0,-8.8l0,-25.2l-4.5,0m0,-361.2l43.8,0l0,-4.5m21.3,0l0,4.5l41.9,0l0,-4.5m-34.6,163.9l-45.8,0m45.8,62.9l-45.8,0m45.8,63.9l-45.8,0m45.8,-96.5l-49.4,0m49.4,-76.6l-49.4,0m49.4,-17.7l-49.4,0m49.4,-27.3l-49.4,0m49.4,261.9l0,5.9l-49.4,0m284.5,-267.8l0,-45.8m-0.7,-27l0,-45.8m66.3,45.8l0,-26.8m0,-8.7l0,-10.3m-192.6,45.8l0,-45.8m-62.9,45.8l0,-45.8m-63.3,45.8l0,-45.8m189.2,118.6l0,-45.8m-63.1,45.8l0,-14.4m0,-8.7l0,-22.7m96.9,45.8l0,-50.3m55.9,50.3l5.8,0l0,-50.3m-126.4,50.3l0,-50.3m-62.5,50.3l0,-34.2m0,-8.7l0,-7.4m-77.6,50.3l0,-4.9l-3.1,0l0,-45.4m-46.3,11.7l46.3,0m-46.3,16.9l46.3,0m-13,-8.1l13,0m-46.3,24.8l46.3,0m-13,-8l13,0m80.8,-55.4l0,-50.3m-63,50.3l0,-50.3m-80.2,50.3l0,-50.3m326.4,337l0,43.5l-260.8,0l0,-261.9l260.8,0l0,202.1m-55.8,-270.4l0,-50.3m61.7,50.3l0,-50.3m66.4,50.3l0,-31.3m0,-8.7l0,-10.3m3.6,97.7l46.8,0m-50.3,333.3l50.3,0m-50.3,-68.8l50.3,0m-501.6,-280l49.4,0m-49.4,-31.8l37.3,0m-37.3,126.7l49.4,0m-49.4,63.1l49.4,0m-49.4,64l49.4,0m-49.4,126.7l12.2,0m8.7,0l29.5,0m-50.3,-31.2l12.2,0m8.7,0l24.9,0m-45.8,-127l45.8,0m-45.8,63.9l45.8,0m-45.8,-126.9l45.8,0m-45.8,-63l45.8,0m4.5,303.7l0,50.3m65.4,-50.3l0,50.3m-32.5,-46.4l0,46.4m64.6,-46.4l0,46.4m63.1,-46.4l0,46.4m63.4,-46.4l0,46.4m227.1,-175l0,175l-501.6,0l0,-501l501.6,0l0,228.9m-164.3,225.6l0,46.4m61.3,-46.4l0,46.4m-14.1,-120.5l0,50.6m-206,19.6l0,50.3m63.1,-50.3l0,50.3m-125.8,-114.5l0,44.6m32.1,-50.6l0,11.5m0,8.7l0,27.8m63.1,-48l0,48m63.4,-48l0,48m62.9,-48l0,48m-158.8,-48l0,50.6m63.1,-50.6l0,50.6m63.3,-50.6l0,50.6m0,19.6l0,50.3m63.1,-50.3l0,50.3m-322.1,-101.1l0,-9.5l4.5,0l0,-42.5l-4.5,0m217.8,106.7l0,-4l-41.7,0l0,4m104.7,0l0,-4l-41.7,0l0,4m104.7,0l0,-4l-42.3,0l0,4m82.2,46.4l0,-50.3l-19.7,0l0,4m-273,-26.1l0,2.6l-68.2,0l0,-83.2l3.2,0m0,-21.5l-3.2,0l0,-42.3l3.6,0m-26.1,42.3l3.2,0l0,-42.3l-3.6,0m26.5,-21.9l-3.6,0l0,-42.3l3.6,0m-26.5,42.3l3.6,0l0,-42.3l-3.6,0m26.5,-21.3l-3.6,0l0,-68m-22.9,68l3.6,0l0,-41.3l-3.6,0m0,-21.3l3.6,0l0,-20.4l-49.4,0m45.9,-13.6l3.6,0l0,-41.5m19.4,61.5l0,-10.1m0,-8.7l0,-9.5m0,-8.5l0,-16.8l84,0l0,4.3l10.6,0m10.7,0l0,-4.3l41.8,0l0,4.2m-41.9,-26.6l0,4.3l41.8,0l0,-4.2m20.7,26.4l0,-4.1l42.1,0l0,3.6m-42.1,-25.7l0,4.1l42.1,0l0,-3.6l10.5,0l0,-46.8m212.2,131.5l-50.3,0l0,-22.4l3.6,0m0,-21.1l-3.6,0l0,-19.7l50.3,0m-200.8,3.6l0,-3.6l41.9,0l0,3.5m-41.9,-25l0,3.6l41.9,0l0,-3.5m21.1,-0.1l0,3.6l44.6,0l0,-3.5m21.3,-0.1l0,3.6l21.5,0l0,8.1l3.6,0m-12.5,395.8l0,-3.6l9,0l0,-53.6l3.6,0m46.8,-60l-50.3,0l0,47.7l3.6,0m-91,-313l0,-3.5l65.8,0l0,19.7l-3.6,0m0,9.7l3.6,0l0,33.8l-50.6,0m403.2,152.7l-6,0m-344.7,61.7l-1.8,0m21.6,0l-1.8,0" style="fill: none; stroke: #000000; stroke-width: 0.7px"/>
    </svg>
    <br>
    <!-- second floor -->
    <svg id="secondfloor" height="95vh" viewBox="0 0 867 685" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule: evenodd; stroke: #000; stroke-linecap: square; clip-rule: evenodd; stroke-miterlimit: 1.5t">
        <path d="M379.017,521.042l50.611,-0l-0,32.678m-50.611,-14.944l50.611,0m-45.19,31.353l45.19,0m-45.19,16.706l45.19,-0m-45.19,-8.111l13.595,0m-13.595,24.332l45.19,-0m-45.19,-7.869l13.595,0m-19.016,-30.676l50.611,0l-0,7.438m-0,9.134l-0,9.685m-0,7.934l-0,16.388l-50.018,-0l0,-3.157l-9.484,-0l-0,3.157m-319.797,4.237l-50.329,-0m68.803,-11.488l18.473,0m-18.473,-373.301l20.747,0l-0,-4.545m21.339,0l0,4.545l41.889,0l-0,-4.545m-34.578,163.925l-45.841,0l0,9.954m45.841,52.995l-45.841,0m45.841,63.948l-45.841,0m45.841,-173.131l-49.397,-0m49.397,-17.73l-49.397,-0m49.397,-27.304l-49.397,0m49.397,251.189l-49.397,0m284.46,-251.189l0,-45.84m-0.674,-26.958l0,-45.841m66.253,45.841l0,-45.699m-192.556,45.699l-0,-45.841m-62.896,45.841l0,-45.841m-63.286,45.841l0,-45.841m189.243,118.639l-0,-45.84m-63.061,45.84l-0,-14.418m-0,-8.687l-0,-22.735m96.856,45.84l-0,-50.329m55.875,50.329l5.776,0l-0,-50.329m-126.434,50.329l0,-50.329m-62.513,50.329l0,-50.329m-77.646,50.329l-0,-4.948l-3.119,-0l-0,-45.381m-46.278,11.728l46.278,-0m-46.278,16.947l46.278,0m-12.989,-8.11l12.989,-0m-46.278,24.816l46.278,-0m-12.989,-7.99l12.989,0m80.765,-55.372l0,-50.329m-63.024,50.329l-0,-50.329m-64.019,50.527l-0,-50.527m310.214,337.031l0,43.469l-260.817,0l-0,-261.861l260.789,0l0.028,218.392Zm-55.875,-286.702l-0,-50.329m61.651,50.329l-0,-50.329m66.443,50.329l0,-50.187m3.557,77.383l-3.557,0l0,43.747l3.557,-0m-3.557,-23.523l50.329,-0m-50.329,65.404l50.329,-0m-50.329,255.892l50.329,-0m-50.329,-56.791l50.329,-0m-501.565,-311.727l57.036,0m-57.036,126.662l49.439,0m-49.439,127.152l49.439,-0m19.364,-0l49.397,-0m-118.2,-31.485l45.784,0m-45.784,63.948l45.784,0m-45.784,-126.897l45.784,0m-45.784,-62.999l45.784,-0m4.545,288.408l0,-23.488m0,-41.839l0,32.839m451.236,-402.828l0,500.974l-501.565,-0l0,-500.974l501.565,0Zm-164.264,466.772l0,34.202m47.137,-120.474l-0,50.579m-47.137,-50.579l0,50.579l21.45,-0m24.204,19.566l0,50.329m-382.955,-131.146l50.329,0l0,-21.93l-4.545,0m352.775,106.698l0,-3.951l-61.258,-0l0,7.649m92.327,42.68l-0,-50.329l-19.702,-0l-0,3.951m-341.123,-84.768l-0,-21.93l3.161,0m0,-21.537l-3.161,0l-0,-42.284l3.556,0m-26.081,42.284l3.161,0l-0,-42.284l-3.557,0m26.477,-21.932l-3.556,-0l-0,-42.284l3.556,-0m-26.477,42.284l3.557,-0l-0,-42.284l-3.557,-0l0,-9.954m26.477,-11.386l-3.556,0l-0,-67.97m-22.921,67.97l3.557,0l-0,-41.296l-3.557,0m0,-21.34l3.557,0l-0,-20.41l-49.439,0m45.882,0l0,-13.575l3.557,0l-0,-41.494l-3.557,0m22.921,61.451l-0,-10.077m-0,-8.694l-0,-9.485m-0,-8.496l-0,-16.795l83.975,0l-0,4.347m10.612,45.982l0,-45.982m10.728,-0l-0,-4.347l41.841,0l0.047,4.248m-41.888,-26.576l-0,4.347l41.841,0l0.047,-4.248m20.747,26.378l0,-4.149l42.087,0l-0,3.557m-42.087,-25.687l0,4.149l42.087,0l-0,-3.556l10.507,-0l-0,-46.773m212.218,131.538l-46.772,0m46.772,127.664l-46.772,0m46.772,-31.876l-50.329,0m-25.165,-87.002l0,-8.786l-47.08,0m47.08,63.912l-47.08,-0m50.637,31.876l-50.637,0m47.08,31.876l-47.08,0m75.802,-74.696l-3.557,0l0,-44.182l3.557,0m-28.722,44.182l3.557,0l-0,-44.182l-3.557,0m0,109.561l3.557,-0l-0,-44.182l-3.557,-0m-47.054,84.526l50.611,-0l-0,-22.384l-3.557,-0m75.494,22.384l-50.329,-0l0,-22.384l3.557,-0m-0,-17.96l-3.557,-0l0,-28.031m0,-10.943l0,-15.461l50.329,-0m-50.329,-127.14l50.329,0m-200.793,3.557l0,-3.557l41.885,0l0.004,3.483m-41.889,-25.02l0,3.556l41.885,0l0.004,-3.482m21.142,-0.074l-0,3.556l44.556,0l0.005,-3.482m21.33,-0.074l0,3.556l21.542,0l0,8.102l3.557,-0m-12.549,395.77l-0,-3.556l43.235,-0m7.978,-0l8.108,-0m-46.772,-10.275l-3.557,-0l0,-54.077l3.557,0m46.772,-49.262l-50.329,-0l0,36.968l3.557,0m-90.99,-302.206l-0,-3.483l65.825,0l-0,52.962l-3.557,-0m5.359,224.717l-1.802,0m21.608,0l-1.806,0m-112.129,120.783l-64,0m64,-49.693l-36,-0m0,-0l0,-36.579m-28,86.272l0,-20m-186.025,0l186.025,0m-204.498,-22.944l-0,11.488m18.473,-11.488l-0,11.488m-0,-0l-0,11.456m-36.947,-11.456l18.474,-0" style="fill:none;stroke:#000;stroke-width:0.71px;"/>
    </svg>
    
    
    <!-- graph 'import' -->
    <script src="graph.js"></script>
    <script>
        const groundfloor = document.getElementById('groundfloor');
        const firstfloor  = document.getElementById('firstfloor');
        const secondfloor = document.getElementById('secondfloor');

        /* svg namespace */
        const svgns = "http://www.w3.org/2000/svg";

        /* Returns count of specified character */
        String.prototype.countChar = function(char)
        {
            let count = 0;   
            for(const i in this)
                if(this[i] === char)
                    count++;
            return count;
        }

        /* returns common floors */
        const getSVGs = (start, end = {z:'123'}) => {
            let result = [];
            let combinedZ = `${start.z}${end.z}`;
            if (combinedZ.countChar('1') === 2) result.push(groundfloor);
            if (combinedZ.countChar('2') === 2) result.push(firstfloor);
            if (combinedZ.countChar('3') === 2) result.push(secondfloor);
            return result;
        }



        /* draw vertices */
        // for (const idx in graph.vertices)
        if (false)
        {   
            const vertex = graph.vertices[idx];
            let c = document.createElementNS(svgns, "circle");
            c.setAttribute("cx", vertex.x);
            c.setAttribute("cy", vertex.y);
            c.setAttribute("r", "1");
            getSVGs(vertex).forEach(svg => svg.appendChild(c.cloneNode()));
        }

        /* draw distances */
        const distance = (a,b) => Math.round(Math.sqrt(Math.pow(a.x - b.x, 2) + Math.pow(a.y - b.y, 2)));
        // for (let start = 0; start < graph.adjacency.length; start++)
        if (false)
        {
            let from = graph.vertices[start];
            for (const j in graph.adjacency[start]) {
                let to = graph.vertices[graph.adjacency[start][j].vertex];
                
                let t = document.createElementNS(svgns, "text");
                t.textContent = distance(from, to);
                t.setAttribute('x', (from.x + to.x)/2);
                t.setAttribute('y', (from.y + to.y)/2);
                t.style = 'font-size:7px';
                getSVGs(from, to).forEach(svg => svg.appendChild(t));
            }
        }

        /* draw edges */
        for (const i in graph.adjacency)
        {
            const start = graph.vertices[i];
            for (const j in graph.adjacency[i])
            {
                const end = graph.vertices[graph.adjacency[i][j].vertex];
                let l = document.createElementNS(svgns, "line");
                l.setAttribute("x1", start.x);
                l.setAttribute("y1", start.y);
                l.setAttribute("x2", end.x);
                l.setAttribute("y2", end.y);
                getSVGs(start, end).forEach(svg => svg.appendChild(l.cloneNode()));
            }
        }
    </script>

</body>
</html>